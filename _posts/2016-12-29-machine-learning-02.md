---
layout: post
title: 机器学习之「壹零」
description: 关于方差
category: articles
tags: 
---
续「零壹」

上一篇我们说到，「均价」模型可以让我们的「方差」减小到37.5，这已经很好了。「书呆子」总是喜欢问这样一个问题：还能更好吗？

为了更好地理解这个问题，我不得不在这里介绍一下「方差」的概念（我仍然会尽量避免使用数学公式，如果我不幸使用了，那是为了给对它有兴趣的人一个参考）。

#### 「方差」和KFC的鸡

> 关于KFC曾有一个流传很广的「畸形鸡」的新闻，例如说那些鸡身上插满管子，有4只鸡腿6个鸡翅什么的。

阴谋论者很容易相信和散播这样的信息。但是在这里，我们说的不是这个问题。而是，假设KFC对肉鸡的体重评估标准（或期望）是4.8斤（又是4.8）。那么，一个给KFC供货的养鸡场A里有三只鸡，体重分别为4.6斤，4.8斤，5斤。平均体重4.8斤，看起来很不错，满足KFC对肉鸡的要求。但是另外一个养鸡场B也出了三只鸡，体重分别为4斤，4.8斤和5.6斤。如果按照平均体重的标准，那么养鸡场B的鸡和养鸡场A的一样好。但是我们感觉好像并不是那么回事。4斤的鸡可能营养不良，5.6斤的可能营养过剩（例如脂肪太多）。那么，怎么样才是一个更好的评判标准呢？

这里「方差」就起作用了。所谓「方差」，衡量的是样本值（例如三只鸡的体重）和期望值（4.8斤）之间的偏差。值越小表示偏差越小。具体的方法是：计算单个样本和期望值的差，然后算其平方数，最后对所有的平方数求和。具体到养鸡场的例子，对于养鸡场A，方差是(^2表示算平方数)：

`(4.6 - 4.8)^2 + (4.8 - 4.8)^2 + (5.0-4.8)^2 = 0.08`

而对于养鸡场B，方差是：

`(4.0 - 4.8)^2 + (4.8 - 4.8)^2 + (5.6-4.8)^2 = 1.28`

可以看到，养鸡场A胜出。

在机器学习领域，还会把最终的结果除以样本数，然后再除以2……前面房价预测的例子里，得到的方差都是通过这种方式计算的。你可能会问，除以3可以理解，代表每个样本的平均方差，再除以2是什么意思？这是个很好的问题！但其背后的原因比较复杂，可以简单理解为是为了提升机器「学习的效率」（但对结果没有影响）。另外再说一句，这个计算公式在机器学习领域有一个专有名词，叫代价函数（Cost Function）。

回到房价预测问题，我们的问题是，用均价4.8万是一种最佳的模型吗？也就是说，我们能不能找到一个新的值，使得方差比37.5更小呢？让我们来试试。同样，我们还是假设价格是y，面积是x，且满足关系：

`y = a * x`

前面我们已经「猜测」a为4.8的时候，效果比较好，达到了37.5的方差。那么，是否存在一个比4.8更好的值？根据方差的定义和现有的数据，我们的方差的计算方式如下：

`方差 = ((250 - a*50) ^2 + (290 - a*60)^2 + (325 - a*70)^2) / (3 * 2)`

我们用J来代表方差，并展开上面的算式和合并同类项，得出：

`J = (11000 * (a^2)  - 105300 * a + 252225) / 6`

所以，我们的问题转换成为：对于上面的表达式，我们如何找到J的最小值？

今天写了很多公式，看来阅读量堪忧了（虽然前面两篇阅读量也不高）。不管怎么样，还是以一张图结束今天的文章。

![J.png](/images/ml_j.png)






