---
layout: post
title: 机器学习之「壹零壹零」
description:  地段！地段！地段！
category: articles
tags: 
---

机器学习之「壹零壹零」

上次我们对单个面积参数的高幂次导致的过度拟合问题使用了规范化，使得预测退化成类似于线性的关系，且效果也不太好，那么应该怎么办呢？

老司机都知道，关于房价，最重要的三个属性是什么？

__地段！地段！地段！__

对了。我们之前一直假设，房价只和面积有关（无论是线性还是高幂次的关系），这基本上等于承认，每套房子的单位面积价格都是差不多的，这当然和现实相差很远！不同地段的房子单价可能会有天壤之别。

那么，用什么来代表「地段」呢？我的原始数据中，每套房子都有「小区」这个属性，这能够很好地表示地段这个概念（在我总共采集的约15000套房子里大约有2000个小区）。但是，这里有一个小问题：小区不像面积那样是个数值，而只是个名字，应该如何将其作为一个额外的特征（feature，假设为$$X_2$$）放入到我的表达式里去计算例如代价函数的值呢？

一种简单的办法是，给小区随机编上1到N的序号，用来代表各个小区。所以，我们的数据会变成大概像这样：

1. 面积50，小区2
2. 面积60，小区17
3. 面积70，小区2（和第一条在同一个小区）
4. 面积70，小区13

等等。即，我们的数据变成了二维的：面积和小区编号。然后，我们假设房价和面积的关系是：

$$ h(X) = \theta_0 + \theta_1 X_1 + \theta_2 X_2 $$ 

这样行不行呢？从表达式上来看，小区和总价也成简单的线性关系，如果$$\theta_2$$为一个正数，那么我们相当于承认，编号2的小区比编号1的小区要贵，可是我们在对小区编号的时候并没有一个特定的顺序，这种假设肯定是不合理的。同样，如果$$\theta_2$$为负，同样会推出一个荒谬的结论。那么… 如果我们故伎重演，增加高次幂的项行不行呢，例如：

$$ h(X) = \theta_0 + \theta_1 X_1^2 + \theta_2 X_1 X_ 2 + \theta_3 X_2^2 $$ 

也许吧。但肯定不是二次方的关系，也许你需要把幂次增加到几千才可以。注意，这个时候你就不只是有几千个特征，而可能是数百万个。这对算法是个很大的考验，而且看起来似乎也没必要。

也许你会问，为什么要随机编号呢？难道我们不能先计算出每个小区的均价，然后按照价格排序来编号吗？这样，我就能保证，编号越大的小区就越可以获得相应的「价格加权」。也许，你还是需要增加一点幂次来实现相对较为复杂的表达，但应该不用那么高的幂次了。这么做似乎行得通，但我认为有两个问题。第一，这么做要求你有相关的「领域知识」。对于房价的模型，也许这比较容易能看出来。但是，这不一定是那么直观的。而且，机器学习的专家，本身并不一定是那个领域（如房产）的专家，所以他不一定有这样的知识。第二，这么做好像是人为地干涉，而不是机器去学习了，似乎并不怎么通用。

下一篇，我们就来讲讲如何找到一个比较通用的做法。