---
layout: post
title: 机器学习之「壹壹」 
description: Normal Equation
category: articles
tags: 
---

上一篇我们说道，判断一个「模型」好不好的依据，是在看其「代价函数」（也就是方差）是不是小。而对于房价预测的例子，我们得到的代价函数J可表示为：

`J = (11000 * (a^2) - 105300 * a + 252225) / 6`

而用一张图来表示J和a的关系，则为：

![J.png](/images/ml_j2.png)

如何求解呢？有两种办法：

## 解方程法（Normal Equation）
从上图「直觉」上来看，当a为4.5时，J约为200；随着a逐渐增大，J随之减小，在a到达约4.8时，J的值最小；然后随着a开始增大，J也随之增大。

直觉虽然很重要，但我们需要公式来推导，不是吗？毕竟，像印度数学家「拉马努金」那样靠直觉的天才数学家并不常见。如果你还记得微积分，可以知道，这个问题可以转化为一个更一般的问题，即对于一个一元二次方程，在何处其导数（斜率）为0？

`y = a*x^2 + b*x + c`

我知道，很多人已经不记得微积分是怎么回事了。但是如果你试着稍稍回忆一下，会发现这是一个不难解决的问题。我们只需要求解，对x增加一个常量ε（极限为0），计算y的值的变化并除以ε，就可以得到导数。这里不说具体的推导过程了，结论就是，如果想让导数为0，那么必须满足公式：

`x = (-b) / (2*a)`

这里b为-105300，a为11000，所以x约为4.786（也就是代价函数中的a）。这个值和平均值4.8是非常接近的，却是一个比平均值「更好」的值。如果我们计算它的代价函数，约为37.16。这比用平均值时的37.5略有提升。